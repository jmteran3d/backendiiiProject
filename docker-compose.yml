
services:
  backend:
    # ğŸ’¡ Le dice a Docker Compose que use el Dockerfile en el directorio actual ('.')
    build: .
    
    # ğŸŒ Mapea el puerto 8080 del contenedor al puerto 8080 de tu mÃ¡quina local
    image: jmteran3d/backendiii:latest
    ports:
      - "8080:8080"
      
    # ğŸ”‘ ESTA ES LA SOLUCIÃ“N: Indica a Compose que lea el archivo .env
    # y pase todas las variables de entorno al contenedor 'backend'.
    env_file:
      - .env 
      
    # ğŸ”— Monta el directorio de trabajo local en el contenedor para
    # que los cambios se reflejen sin reconstruir la imagen (Ãºtil para desarrollo)
    # Si quieres usar solo la imagen construida, puedes omitir esta lÃ­nea.
    # volumes:
    #   - .:/app
    #   - /app/node_modules # Para evitar sobreescribir los mÃ³dulos instalados